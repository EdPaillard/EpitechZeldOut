<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
  <link rel="stylesheet" type="text/css" href="/css/style.css">
  <link rel="shortcut icon" href="/images/logo_zeldout.ico">
  <title>ZeldOut</title>
</head>

<body class="grey lighten-4">
  <header class="teal">
    <nav class="teal">
      <div id="navMain" class="nav-wrapper">
        <a href="/"><img id="logoZOWP" class="left" src="/images/logo_zeldout.png" alt="Logo ZeldOut"></a>
        <ul class="right">
          <p id="hideout">Page d'administration de ZeldOut, le meilleur réseau professionnel de la Creuse.</p>
        </ul>
      </div>
    </nav>
  </header>

  <section id="adminSection">
    <h2 id="titleSecAdmin">Offres d'emploi</h2>
    <h5 class='center'><a id="backAdmin" href="/admin">Retour à la page
        d'administration</a></h5>
    <% for(let ad of ads) { %>
    <article class="<%=ad.id%>">
      <form class="adminForm" action="/ads/<%=ad.id%>" method="POST">
        <table class="striped centered responsive-table">
          <tr>
            <th class="teal">Numéro de l'offre d'emploi</th>
            <td><%=ad.id%></td>
          </tr>
          <tr class="grey lighten-2">
            <th class="teal darken-2">ID de l'entreprise</th>
            <td><input class="center-align black-text" disabled type="text" name="companies_id"
                value="<%=ad.companies_id%>"></td>
          </tr>
          <tr>
            <th class="teal">Intitulé du poste</th>
            <td><input class="center-align black-text" disabled type="text" name="title" value="<%=ad.title%>"></td>
          </tr>
          <tr class="grey lighten-2">
            <th class="teal darken-2">Ville</th>
            <td><input class="center-align black-text" disabled type="text" name="city" value="<%=ad.city%>"></td>
          </tr>
          <tr>
            <th class="teal">Description du poste</th>
            <td><textarea class="center-align black-text" disabled name="description"
                type="text"><%=ad.description%></textarea></td>
          </tr>
          <tr class="grey lighten-2">
            <th class="teal darken-2">Salaire</th>
            <td><input class="center-align black-text" disabled type="text" name="salary" value="<%=ad.salary%>"></td>
          </tr>
          <tr>
            <th class="teal">En savoir plus</th>
            <td><input class="center-align black-text" disabled type="text" name="detail" value="<%=ad.detail%>"></td>
          </tr>
        </table>
        <div class="divBtn">
          <button class="btn valid" type="submit" disabled>Valider</button>
        </div>
      </form>
    </article>
    <%}%>
        <div class="divBtn">
            <input class="btn modify" type="button" value="Modifier"> 
            <input class="btn delete" type="button" value="Supprimer">
            <input class="btn create" type="button" value="Créer">
        </div>
        <div id="formHidden" style="display: none;">
            <form id="suppressForm">
                <label for="ad-delete">Choisissez le numéro de l'offre d'emploi à supprimer</label>
                <select class="browser-default selectDel" name="ads" id="ad-delete">
                    <% for(let ad of ads){%>
    <option name="valueId" id="optionDelete" value="<%=ad.id%>"><%=ad.id%></option>
    <%}%>
                </select>
                <input class="btn" type="submit" name="subDelete" value="Confirmer" id="confirmSupr">
            </form>
        </div>
        <div id="formCreateHidden" style="display: none;">
            <form class="col s12" action="/ads" method="POST">
                <div class="row">
                  <div class="input-field col s12">
                    <input name="title" id="intitule" type="text" class="validate">
                    <label for="intitule">Intitulé du poste</label>
                  </div>
                 </div>
                 <div class="row">
                  <div class="input-field col s12">
                    <label for="id-companies">Nom de l'entreprise</label><br>
                    <select id="idNameComp" class="browser-default" name="companies_id" id="id-companies">
                      <option name="valueId" id="optionDelete" value=""></option>
                  </select>
                  </div>
                </div>
                <div class="row">
                  <div class="input-field col s12">
                    <input name="city" id="ville" type="text" class="validate">
                    <label for="ville">Ville</label>
                  </div>
                </div>
                <div class="row">
                  <div class="input-field col s12">
                    <input name="salary" id="salary" maxlength="6" type="text" class="validate">
                    <label for="salary">Salaire</label>
                  </div>
                </div>
                <div class="row">
                  <div class="input-field col s12">
                    <label for="description">Description du poste</label><br><br>
                    <textarea name="description" id="description" class="validate"></textarea>
                  </div>
                </div>
                <div class="row">
                  <div class="input-field col s12">
                    <input name="detail" id="detail" type="text" class="validate">
                    <label for="detail">En savoir plus</label>
                  </div>
                </div>
                <button class="btn right" type="submit">Ajouter une offre</button>
              </form>
              </div>
        <h5 class='center'><a id="backAdmin" href="/admin">Retour à la page d'administration</a></h5>
        </section>
        <script src="/js/adminCRUDAds.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>